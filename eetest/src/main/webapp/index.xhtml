<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	template="/WEB-INF/templates/default.xhtml">
	<ui:define name="content">
		<div id="current-stocks">
		<p>Current Stocks</p>
		<h:dataTable value="#{stockMgr.currentStocks}" var="currentStock" id="current-stocks-table">
			<h:column>
				<f:facet name="header">Ticker</f:facet>
				<h:outputText value="#{currentStock.stock.ticker}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Start Date</f:facet>
				<h:outputText value="#{currentStock.openTransaction}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Buy Price</f:facet>
				<h:outputText value="#{currentStock.buyPrice}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Quantity</f:facet>
				<h:outputText value="#{currentStock.quantity}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Stop Loss</f:facet>
				<h:outputText value="#{currentStock.stopLoss}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Stop Gain</f:facet>
				<h:outputText value="#{currentStock.stopGain}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Last Close Price</f:facet>
				<h:outputText value="#{currentStock.lastClosePrice}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Gain (from last close)</f:facet>
				<h:outputText value="#{currentStock.gainFromLastClose}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Finish Transaction</f:facet>
				<h:form>
					<h:commandButton action="#{sellStock.showCurrentStock(currentStock)}" value="Sell" id="sell_#{stock.id}"/>
				</h:form>
			</h:column>
		</h:dataTable>
		</div>
		<div id="closed-stocks">
		<p>Closed Stocks (last 30 days)</p>
		<h:dataTable value="#{stockMgr.closedStocks}" var="closedStock" id="closed-stocks-table">
			<h:column>
				<f:facet name="header">Ticker</f:facet>
				<h:outputText value="#{closedStock.stock.ticker}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Buy Price</f:facet>
				<h:outputText value="#{closedStock.buyPrice}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Sell Price</f:facet>
				<h:outputText value="#{closedStock.sellPrice}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Quantity</f:facet>
				<h:outputText value="#{closedStock.quantity}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Total Gain</f:facet>
				<h:outputText value="#{closedStock.totalGain}"/>
			</h:column>
		</h:dataTable>
		</div>
		<div id="recommended-stocks">
		<p>Recommended Stocks:</p>
		<h:dataTable value="#{stockMgr.recommendedStocks}" var="stock" id="hor-minimalist-a">
			<h:column headerstyleClass="first">
				<f:facet name="header">Date</f:facet>
				<h:outputText value="#{stock.stockDate}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">Ticker</f:facet>
				<h:outputText value="#{stock.ticker}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">Price Close</f:facet>
				<h:outputText value="#{stock.priceClose}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">Price Open</f:facet>
				<h:outputText value="#{stock.priceOpen}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">Price Change</f:facet>
				<h:outputText value="#{stock.priceChange}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">Price High</f:facet>
				<h:outputText value="#{stock.priceHigh}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">Price Low</f:facet>
				<h:outputText value="#{stock.priceLow}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">Volume</f:facet>
				<h:outputText value="#{stock.vol}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">RSI</f:facet>
				<h:outputText value="#{stock.rsi}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">MACD Line</f:facet>
				<h:outputText value="#{stock.macdLine}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">MACD Signal</f:facet>
				<h:outputText value="#{stock.macdSignalLine}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">SMA</f:facet>
				<h:outputText value="#{stock.sma}"/>
			</h:column>
			<h:column headerstyleClass="first">
				<f:facet name="header">Buy</f:facet>
				<h:form>
					<h:commandButton action="#{buyStock.showStockProperties(stock)}" value="Buy" id="buy_#{stock.id}"/>
				</h:form>
			</h:column>
		</h:dataTable>
		</div>
		<div id="chartdiv"></div>
	</ui:define>
</ui:composition>
